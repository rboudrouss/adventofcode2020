if __name__ == '__main__':
    print(((lambda n:[n:=n+1 for p in[{k.split(':')[0]:k.split(':')[1]for k in j}for j in[i.replace('\n',' ').split(' ')for i in open('i').read().split('\n\n')]]if all(map(lambda x:x in p,['byr','iyr','eyr','hgt','hcl','ecl','pid']))and all([{'byr':lambda x:x.isdigit() and 1920<=int(x)<=2002,'iyr':lambda x:x.isdigit() and 2010<=int(x)<=2020,'eyr':lambda x:x.isdigit() and 2020<=int(x)<=2030,'hgt':lambda x:(x.endswith('cm') and 150<=int(x[:-2])<=193) or(x.endswith('in') and 59<=int(x[:-2])<=76),'hcl':lambda x:x.startswith('#') and all(map(lambda a:a in '1234567890abcdef',x[1:])),'ecl':lambda x:x in['amb','blu','brn','gry','grn','hzl','oth'],'pid':lambda x:all(map(lambda a:a in '1234567890',x)) and len(x)==9}[el](p[el])for el in['byr','iyr','eyr','hgt','hcl','ecl','pid']])][-1])(0)))